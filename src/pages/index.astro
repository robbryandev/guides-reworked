---
import "@unocss/reset/tailwind.css";
import "../styles/Markdown.css";
import Nav from "../components/Nav.astro";
import MarkdownCard from "../components/MarkdownCard.astro";

import { getEntry } from "astro:content";

const order = ["who_are_you", "what_skills", "what_kind", "build_team"];

const segmentPromises = order.map((name) => {
  return getEntry("gamedev", name);
});

const segments = await Promise.all(segmentPromises);
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Game Development</title>
  </head>
  <body class="bg-black text-white pb-10">
    <Nav />
    <main>
      <div></div>
      <div class="flex flex-col md:w-3/5 gap-4 md:gap-6 mx-auto">
        {
          segments.map((currentSegment) => {
            return (
              <MarkdownCard
                img="gamedev/controller.png"
                alt="gamedev controller header"
                content={currentSegment?.body ?? ""}
              />
            );
          })
        }
      </div>
    </main>
  </body>
</html>
